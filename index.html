<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport content="width=device-width, initial-scale="1.0">
    
    <!-- Mapas Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
    integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
    crossorigin=""/>
    
    <link rel="stylesheet" type="text/css" href="Leaflet.Legend-master/src/leaflet.legend.css">
    <link rel="stylesheet" type="text/css" href="leaflet-search-master/src/leaflet-search.css">
   
    <!-- JQuery -->
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>

    <!--  -->
    <title>Disfruta Castilla y León</title>
    <link rel="stylesheet" type="text/css" href="./styles.css" />
    <script src="./scripts.js" type="module"></script>
  </head>

  <body>
    <div id="navbar">
      <a onClick="window.scrollTo(0, 0);" id="title_navbar"><b>Disfruta Castilla y León</a>
      <!-- ¿Añadir logo? -->
      <div id="navMenu">
        <a id="trees_btn" href="#trees">Árboles</a>
        <a id="games_btn" href="#games">Juegos</a>
        <a href="#">Zonas recreativas</a>
      </div>
    </div> 

    <div id="content">
      <div id="top_separator"></div>
      <div id="intro">
        <h1>Descubre Castilla y León</h1>
        <p>Con sus nueve provincias, Castilla y León es la provincia más extensa de toda España. Cada una de ellas nutrida por sus parajes y tradiciones, y son estos rincones y el folclore que los acompaña lo que tratamos de dar a conocer.</p>
        <p>Usa nuestro mapa interactivo para descubrir los mejores <a href="#"><span class="textSpand">espacios naturales</span></a> dónde disfrutar de nuestro terreno.</p>
        <p>Explora los <a href="#games"><span class="textSpand">juegos tradicionales</span></a> de nuestras regiones.</p>
        <p>Aprende sobre los <a href="#trees"><span class="textSpand">árboles singulares</span></a> que pueblan estas tierras.</p>
        <p>Usa nuestro localizador de coordenadas geográficas para explorar el mapa con precisión, símplemente arrastra el icono hacia la ubicación deseada.</p>
      </div>
      <div id="mapa">
        <div id="map"></div>
      </div>
    </div>

    <div id="games">
      <div id="intro_games"> 
        <h1><u>Juegos tradicionales</u></h1>
        <p>Ponga el cursor sobre una imágen para descubrir un juego tradicional. Haga click sobre ella para obtener información detallada.</p>
      </div>
      <div id="cards">
        <div class="card" onclick="openGameDetails('barra')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/barraCastellana.jpg"/>
            </div>
            <div class="card-back">
              <h1>Barra castellana</h1>
              <p>El jugador deberá lanzar una barra de hierro la máxima distancia posible, deberá hacer que esta caiga de punta en suelo y efectuará el lanzamiento sin salirse de una zona marcada para este ejercicio.</p>
              <p>Normas:</p>
              <ul>
                <li>El terreno deberá ser de tierra o ceniza.</li>
                <li>La barra será de hierro, con forma cilíndrica y terminará en punta.</li>
                <li>El lanzamiento se podrá hacer acorde con varias técnicas.</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('bolos')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/bolos.jpg"/>
            </div>
            <div class="card-back">
              <h1>Bolos castellanos</h1>
              <p>Esta peculiar versión de los bolos conserva los fundamentos de sus respectivos pero añade un giro especial, el objeto a arrojar no será una bola, si no un disco grueso hecho de madera. El objetivo del juego será el mismo que el resto de bolos aquí expuestos, derribar los bolos a distancia. La puntuación se decidirá de igual manera, será premiado aquel que tire más bolos.</p>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('calva')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/calva.jpg"/>
            </div>
            <div class="card-back">
              <h1>La calva</h1>
              <p>Debe su nombre a los calveros, terrenos libres de piedras y maleza aptos para el juego. Consiste en lanzar un gorrón a la calva, que tiene forma de ángulo obtuso y se pone de pie sobre la arena. Se puede jugar en equipos de tres o de forma individual. <p>Cada jugador tiene un total de 25 tiradas y se considera tanto cada vez que el gorrón derriba a la calva, sin tocar el suelo.</p>
              <p>Gana el equipo que anote más tantos. La liga nacional de Calva impulsada por la Junta de Castilla y León da la oportunidad de disfrutar de este juego.</p>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('llave')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/llave.jpg"/>
            </div>
            <div class="card-back">
              <h1>La llave</h1>
              <p>Juego de lanzamiento de precisión, dónde equipos de entre 4 y 6 miembros lanzarán unas monedas de metal llamadas 'pellos' con el objetivo de acertar a la llave. Lo cual aportará puntos al equipo, el número de puntos variará en función de la modalidad de la llave.</p>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('tanga')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/tanga.jpg"/>
            </div>
            <div class="card-back">
              <h1>La tanga</h1>
              <p>Es el juego más extendido en toda la comunidad.</p>
              <ul>
                <li>¿Tanga, tuta, tarusa, tanguilla, chito, petisa, tuka? Es el cilindro a derribar. </li>
                  <li>¿Chapa? Pieza colocada sobre la tanga. </li>
                  <li>¿Doblón, tostón, chocón, pieza, tejo? Es la pieza con la que se derriba la tanga. </li>
                  <li>¿Formas de lanzamiento? Parado o en movimiento.</li>
                <li>¿Distancia aproximada de lanzamiento? 20 metros </li>
                <li>¿Número de tostones por jugador y tirada? 2. </li>
                <li>¿Número de lanzamientos por partida? 32. </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('rana')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/rana.jpg"/>
            </div>
            <div class="card-back">
              <h1>La rana</h1>
              <p>Dice la leyenda que reyes y nobles de Egipto y Mesopotamia ya jugaban al juego de la rana. Estos pedían un deseo antes de lanzar monedas de oro a los estanques con la esperanza de que si una rana o un sapo se las tragaba, el deseo se cumpliría. El juego de la rana, tal y como lo conocemos en la actualidad, 
                consiste en introducir un disco de hierro (petaco) desde la línea de tiro a cualquiera de los agujeros de la mesa de la rana. Se puede jugar individualmente o por parejas. Las partidas se juegan a diez tiradas y, en cada una de ellas, cada jugador tiene que lanzar 10 petacos. La puntuación depende del agujero donde se introduzca el petaco.
                </p>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('billar')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/billar.jpg"/>
            </div>
            <div class="card-back">
              <h1>Billar Romano</h1>
              <p>Este juego casi propio de Zamora en el que los jugadores tratarán de acercar una colección de bolas propias a una bola principal. Para ello dispondrán de una serie de lanzamientos, con los que acercar sus bolas o alejar las del rival.</p>
              <p>Normas:</p>
              <ul>
                <li>El terreno de juego está hecho de barro, idealmente de mezcla con ceniza y arena tamizada.</li>
                <li>Se jugará de forma individual o por parejas.</li>
                <li>Ganarán las bolas que estén más próximas a una común llamada <u>BILI</u>.</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('troncos')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/troncos.jpg"/>
            </div>
            <div class="card-back">
              <h1>Corta de Troncos</h1>
              <p>
                Es un deporte tradicional de zonas de explotación maderera cuyo origen se sitúa en la comarca de Pinares, entre Burgos y Soria. Consiste en el corte de lotes de madera de indeterminadas medidas en el menor tiempo posible. La herramienta homologada para ello es el hacha. Se juega individualmente o por parejas. Cada cortador puede empezar por cualquier tronco de su fila y no es obligatorio seguir un orden.
                Existen dos posiciones de los troncos: vertical (solo está permitido un corte) y estilo australiano (horizontal de manera que cada cortador pueda darle un corte). 
              </p>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('boloFemenino')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/boloFemeninoAbades.jpg"/>
            </div>
            <div class="card-back">
              <h1>Bolo femenino de Abades</h1>
              <p>Modalidad del juego de los bolos, practicado en su origen exclusivamente por las mujeres de la localidad de Abades en Segovia.</p>
              <p>El juego completo está compuesto por 8 bolos, el bolo Miche o Gerardo, 2 bolas y 2 bolos de lanzar. </p>
              <p> bolos se colocan en cuatro posiciones diferentes que corresponden con cada jugada: en forma de cuadrado, rombo, triángulo y línea recta. En todas ellas (excepto en la forma de triángulo) el Miche se coloca en el centro. La mayor puntuación se obtiene al derribar este en la posición de triángulo.</p>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('boloPalentino')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/boloPalentino.jpg"/>
            </div>
            <div class="card-back">
              <h1>Bolo Palentino</h1>
              <p>Modalidad típica de la provincia de Palencia. Existen dos modalidades de juego, cuyo reglamento se recoge en el libro "Reglamentos Deportes Autóctonos" editado por la Junta de Castilla y León. Las diferencias de modalidades tienen que ver con la disposición del terreno de juego, que en cualquier caso tiene unas medidas de 26 metros de largo y 5 metros de ancho.</p>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('boloRib')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/boloRib.jpg"/>
            </div>
            <div class="card-back">
              <h1>Bolo Ribereño</h1>
              <p>
                Al igual que el Bolo femenino de Abades, es una modalidad practicada exclusivamente por mujeres en las comarcas de la zona de la Ribera del Duero. Se juega con nueve bolos, que se colocan en forma de cuadrado, en tres filas de tres bolos cada una. Las tiradas se efectúan desde dos puntos diferentes: 20 metros (línea 1) y 5 metros (línea 2).
                El valor de los bolos derribados desde la línea 1 es de 4 puntos, mientras que el valor de los derribados desde la línea 2 es de 1 punto. Se compite por parejas y cada componente realiza un lanzamiento desde cada línea en cada turno.
              </p>
            </div>
          </div>
        </div>

        <div class="card" onclick="openGameDetails('tresTablones')">
          <div class="card-inner">
            <div class="card-front">
              <img src="./Img/tresTablones.jpg"/>
            </div>
            <div class="card-back">
              <h1>Bolo tres tablones</h1>
              <p>
                Tiene su origen en la comarca de las Merindades, provincia de Burgos. El juegabolos o campo de juego se divide en tres zonas: zona de tiro, zona de cureñas y zona de birle. Se emplean tres tablones sobre los que se plantan tres bolos en cada uno; después se planta el mico, por detrás de los de los bolos centrales.
                Se realizan dos tiradas, una de subida (desde el cas) y otra de bajada ( birle). Consiste en lanzar la bola desde el cas intentando derribar el mayor numero de bolos posibles y el mico inclusive. El primer bote de la bola debe caer en la cureña; en otro caso se produce una morra y se anula la tirada.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="game-overlay">
      <a href="javascript:void(0)" class="closebtn" onclick="closeGameDetails()">&times;</a>
      <div id="game-overlay-content">
      </div>
    </div>

    <div id="trees"> 
      <div id="trees_intro">
        <h1>Árboles singulares</h1>
      </div>
      <div id="list">
        <div class="container">
          <h1 class="especie">Cedrus atlantica</h1>
          <p class="ubicationes">Segovia, otro sitio...</p>
          <p class="singularidad">Es un árbol que se encuentra en tal y tiene tal</p>
          <img src="./Img/cedrusatlantica.jpg">
        </div>

        <div class="container">
          <h1 class="especie">Cedrus atlantica</h1>
          <p class="ubicationes">Segovia, otro sitio...</p>
          <p class="singularidad">Es un árbol que se encuentra en tal y tiene tal</p>
          <img src="./Img/cedrusatlantica.jpg">
        </div>
      </div>
    </div>
    <text-area hidden="true" id = "lat"></text-area>
    <text-area hidden="true" id = "lng"></text-area>
    <!-- Mapa -->
    <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
      integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
      crossorigin=""> 
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>

    <script src="Leaflet.Legend-master/src/leaflet.legend.js"></script>
    <script src="Leaflet-search-master/src/leaflet-search.js"></script>

    <script src="./Datos/markers.js"></script>
    <script src="./Datos/cyl_provincias_con_poblacion.js"></script>
    <script src="./Datos/cyl_juegos.js"></script>
     
    <script src="./Datos/arboles.js"></script>
    <script src="./Datos/juego.png"></script>
    
    <script src="./Datos/arbol.png"></script>
    <!--<script src="./Datos/rios.js"></script>-->
    <script src="./Datos/miradores.js"></script>
    <script src="./Datos/coordenadas.png"></script>
    <script src="./Datos/zona_recreativa.js"></script>
    <script src="./Datos/markers2.js"></script>
    
    <script src="./Datos/parque2.png"></script>
    <script src="./Datos/prismaticos.png"></script>
    <script src="./Datos/landscape-7264427.svg"></script>    
    <script type="text/javascript" src="mapa.js"></script>
    
    <script>
      let games_info = [
        {
          "id":"barra",
          "html":"./Games/barra.html"
        },
        {
          "id":"bolos",
          "html": "./Games/bolos.html"
        },
        {
          "id":"llave",
          "html":"./Games/llave.html"
        },
        {
          "id":"calva",
          "html":"./Games/calva.html"
        },
        {
          "id":"tanga",
          "html":"./Games/tanga.html"
        },
        {
          "id":"rana",
          "html":"./Games/rana.html"
        },
        {
          "id":"billar",
          "html":"./Games/billar.html"
        },
        {
          "id":"troncos",
          "html":"./Games/troncos.html"
        },
        {
          "id":"boloFemenino",
          "html":"./Games/boloFemenino.html"
        },
        {
          "id":"boloPalentino",
          "html":"./Games/boloPalentino.html"
        },
        {
          "id":"boloRib",
          "html":"./Games/boloRib.html"
        },
        {
          "id":"tresTablones",
          "html":"./Games/tresTablones.html"
        }
      ]
      function openGameDetails(name) {
        document.getElementById("game-overlay").style.height = "100%";
        clearOVerlay();
        document.getElementById("game-overlay-content");
        let game = games_info.find(game => game.id === name);
        /*document.getElementById("game-overlay-content").innerHTML += game.html;*/
        $("#game-overlay-content").load(game.html);
      }

      function closeGameDetails() {
        document.getElementById("game-overlay").style.height = "0%";
      } 

      function clearOVerlay(){
        let view = document.getElementById("game-overlay-content");
        var element = view.getElementsByTagName('p');
        var counter = 0; //nunca cambia
        while(element.length){
          element[counter].parentNode.removeChild(element[counter]);
        }
        element = view.getElementsByTagName('h1');
        var counter = 0; //nunca cambia
        while(element.length){
          element[counter].parentNode.removeChild(element[counter]);
        }
        element = view.getElementsByTagName('img');
        var counter = 0; //nunca cambia
        while(element.length){
          element[counter].parentNode.removeChild(element[counter]);
        }
        element = view.getElementsByTagName('h2');
        var counter = 0; //nunca cambia
        while(element.length){
          element[counter].parentNode.removeChild(element[counter]);
        }
        element = view.getElementsByTagName('h3');
        var counter = 0; //nunca cambia
        while(element.length){
          element[counter].parentNode.removeChild(element[counter]);
        }
        element = view.getElementsByTagName('h4');
        var counter = 0; //nunca cambia
        while(element.length){
          element[counter].parentNode.removeChild(element[counter]);
        }
        element = view.getElementsByTagName('iframe');
        var counter = 0; //nunca cambia
        while(element.length){
          element[counter].parentNode.removeChild(element[counter]);
        }
        element = view.getElementsByTagName('div');
        var counter = 0; //nunca cambia
        while(element.length){
          element[counter].parentNode.removeChild(element[counter]);
        }
      }
    </script>
  </body>

</html>